<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
/* Refined Minimalist Dashboard Styling */
:root {
    --color-slate-50: #f8fafc;
    --color-slate-100: #f1f5f9;
    --color-slate-200: #e2e8f0;
    --color-slate-300: #cbd5e1;
    --color-slate-400: #94a3b8;
    --color-slate-500: #64748b;
    --color-slate-600: #475569;
    --color-slate-700: #334155;
    --color-slate-800: #1e293b;
    --color-slate-900: #0f172a;
    --color-blue-400: #60a5fa;
    --color-blue-500: #3b82f6;
    --color-blue-600: #2563eb;
    --color-emerald-500: #10b981;
    --color-amber-500: #f59e0b;
    --color-red-500: #ef4444;
    --header-gradient-start: var(--color-slate-900) !important;
    --header-gradient-end: var(--color-slate-900) !important;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    background: var(--color-slate-900) !important;
    color: #ffffff !important;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body .header, .container .header, div.header {
    background: var(--color-slate-900) !important;
    border: none !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06) !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    padding: 64px 32px !important;
}

.header h1 {
    font-weight: 600 !important;
    letter-spacing: -0.02em !important;
    color: #ffffff !important;
    font-size: 2.5rem !important;
}

.header p, .header .subtitle {
    color: var(--color-slate-400) !important;
    font-weight: 400 !important;
}

.summary-card, .card, .metric-card {
    background: var(--color-slate-900) !important;
    border: 1px solid rgba(255, 255, 255, 0.06) !important;
    border-radius: 8px !important;
    padding: 24px !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
}

.summary-card:hover, .card:hover, .metric-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.3) !important;
    border-color: rgba(59, 130, 246, 0.3) !important;
}

th {
    background: var(--color-slate-800) !important;
    color: var(--color-slate-400) !important;
    padding: 14px 16px !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06) !important;
}

tbody tr {
    border-bottom: 1px solid rgba(255, 255, 255, 0.06) !important;
}

tbody tr:hover {
    background: rgba(255, 255, 255, 0.02) !important;
}

[data-theme="light"] body {
    background: #ffffff !important;
    color: var(--color-slate-900) !important;
}

[data-theme="light"] .header {
    background: #ffffff !important;
    border-bottom-color: var(--color-slate-200) !important;
}

[data-theme="light"] .header h1 {
    color: var(--color-slate-900) !important;
}

[data-theme="light"] .header p, [data-theme="light"] .header .subtitle {
    color: var(--color-slate-600) !important;
}

[data-theme="light"] .summary-card, [data-theme="light"] .card, [data-theme="light"] .metric-card {
    background: #ffffff !important;
    border-color: var(--color-slate-200) !important;
}

[data-theme="light"] th {
    background: var(--color-slate-100) !important;
    color: var(--color-slate-700) !important;
}

[data-theme="light"] tbody tr:hover {
    background: var(--color-slate-50) !important;
}
</style>

<!-- Performance Banner -->
<div style="background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%); color: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1.25rem;">üöÄ Performance-Enabled Analytics</h3>
            <p style="margin: 0; opacity: 0.9; font-size: 0.95rem;">
                REST API 3-10x speedup enables extended 182-day analysis with moving averages and ML predictions
            </p>
        </div>
        <div style="text-align: right;">
            <div style="font-size: 2rem; font-weight: bold;">26</div>
            <div style="font-size: 0.85rem; opacity: 0.9;">Weeks Analyzed</div>
        </div>
    </div>
</div>

<!-- Data Status -->
<div style="margin-bottom: 2rem;">
    <h3 style="margin-bottom: 1rem;">Data Sources</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
        <div style="background: #fef2f2; border-left: 4px solid #ef4444; padding: 1rem; border-radius: 4px;">
            <div style="font-weight: 600; margin-bottom: 0.5rem;">Quality</div>
            <div style="color: #6b7280; font-size: 0.875rem;">
                    ‚ùå Not available
            </div>
        </div>
        <div style="background: #fef2f2; border-left: 4px solid #ef4444; padding: 1rem; border-radius: 4px;">
            <div style="font-weight: 600; margin-bottom: 0.5rem;">Security</div>
            <div style="color: #6b7280; font-size: 0.875rem;">
                    ‚ùå Not available
            </div>
        </div>
        <div style="background: #fef2f2; border-left: 4px solid #ef4444; padding: 1rem; border-radius: 4px;">
            <div style="font-weight: 600; margin-bottom: 0.5rem;">Flow</div>
            <div style="color: #6b7280; font-size: 0.875rem;">
                    ‚ùå Not available
            </div>
        </div>
    </div>
</div>

<!-- Trend Analytics with Moving Averages -->
<div style="margin-bottom: 2rem;">
    <h3 style="margin-bottom: 1rem;">Trend Analytics - Moving Averages</h3>

    <div style="padding: 2rem; text-align: center; color: #6b7280; background: #f9fafb; border-radius: 8px;">
        <p>No trend analytics available. Ensure history files exist.</p>
    </div>
</div>

<!-- ML Predictions Section -->
<div style="margin-bottom: 2rem;">
    <h3 style="margin-bottom: 1rem;">ML-Based Predictions (4 Weeks Ahead)</h3>

    <div style="padding: 2rem; text-align: center; color: #6b7280; background: #f9fafb; border-radius: 8px;">
        <p>ML predictions unavailable. Ensure quality history has sufficient data (‚â•3 weeks).</p>
    </div>
</div>

<!-- Insights -->
<div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 1.5rem; border-radius: 8px; margin-top: 2rem;">
    <h4 style="margin: 0 0 1rem 0; color: #78350f;">üí° Key Insights</h4>
    <ul style="margin: 0; padding-left: 1.5rem; color: #78350f; line-height: 1.8;">
        <li><strong>Moving Averages</strong> reduce noise and reveal true trends over 7, 30, and 90-day windows</li>
        <li><strong>ML Predictions</strong> provide 4-week forecasts with confidence intervals to anticipate future workload</li>
        <li><strong>Anomaly Detection</strong> identifies unusual spikes that may require investigation</li>
        <li><strong>Extended Lookback</strong> (182 days) enables long-term pattern recognition</li>
        <li><strong>Performance-Enabled</strong>: REST API 3-10x speedup makes this analysis feasible without timeout concerns</li>
    </ul>
</div>

<!-- Generation Info -->
<div style="margin-top: 2rem; padding: 1rem; background: #f9fafb; border-radius: 4px; font-size: 0.75rem; color: #6b7280;">
    Generated on 2026-02-12 16:32:23 | Analyzing 26 weeks (182 days) of historical data
</div>

<script>
    // Trend arrow styling
    document.addEventListener('DOMContentLoaded', function() {
        const arrows = document.querySelectorAll('.trend-arrow');
        arrows.forEach(arrow => {
            if (arrow.classList.contains('improving')) {
                arrow.style.color = '#22c55e';
            } else if (arrow.classList.contains('degrading')) {
                arrow.style.color = '#ef4444';
            } else {
                arrow.style.color = '#f59e0b';
            }
        });
    });
</script>
